{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/self-attention-text-2-text.png","webpack:///./src/App.vue?5bd1","webpack:///./src/components/Image.vue?1a5d","webpack:///./src/assets/attention-formulation.png","webpack:///./src/components/ModelSelector.vue?1966","webpack:///./src/App.vue","webpack:///./src/components/Attention.vue","webpack:///./src/components/Attention.vue?14c3","webpack:///./src/components/Demo.vue","webpack:///./src/components/Image.vue","webpack:///./src/components/Image.vue?7a03","webpack:///./src/components/Heatmap.vue","webpack:///./src/components/Heatmap.vue?c4e4","webpack:///./src/components/MemeSelector.vue","webpack:///./src/components/MemeSelector.vue?1a4e","webpack:///./src/components/ModelSelector.vue","webpack:///./src/components/ModelSelector.vue?53a3","webpack:///./src/components/Demo.vue?5413","webpack:///./src/components/Remarks.vue","webpack:///./src/components/Remarks.vue?21ae","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js","webpack:///./src/assets/transformer-architecture.png","webpack:///./src/components/MemeSelector.vue?e446","webpack:///./src/assets/visualbert-architecture.png","webpack:///./src/assets/attention-detailed-view.png","webpack:///./src/components/Heatmap.vue?6fdc","webpack:///./src/components/Demo.vue?9344","webpack:///./src/assets/self-attention-text-2-text-matrix.jpeg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_createElementBlock","_createVNode","_component_Attention","_component_Demo","_component_Remarks","class","_hoisted_2","_hoisted_4","__exports__","_createElementVNode","style","_component_ModelSelector","_component_MemeSelector","_hoisted_8","_component_Image","ref","img_id","_ctx","img_filepath","_Fragment","_renderList","idx","_component_Heatmap","layer","head","props","Number","String","sample","colors","computed","canvas","this","$refs","ctx","getContext","item","infos","filter","image_id","mounted","console","log","process","fetch","then","json","drawImage","response","methods","update","filepath","bg","Image","src","onload","height","width","initial_state","displayBoundingBox","indices","val","bbox","x","parseInt","y","beginPath","strokeStyle","globalAlpha","lineWidth","rect","stroke","highlightBoundingBox","highlight_idx","resetBoundingBox","margin","top","right","bottom","left","attentions","svg","d3","heatmap","append","attr","text","fetchHeatmap","selectAll","remove","displayHeatmap","$parent","formatHeatmap","x_labels","y_labels","scores","formatted_records","idy","record","group","variable","myGroups","Array","from","Set","map","myVars","range","domain","padding","xAxis","tickSize","yAxis","select","myColor","mouseover","event","target","xLabel","each","mouseenter","yLabel","mouseleave","join","bandwidth","on","type","_hoisted_1","_toDisplayString","onClick","$options","components","publicPath","sample_filepaths","samples","similarities","7528","46518","80597","84762","selected_idx","selected_sample","selected_sample_filepath","onSelect","showMeme","model","_hoisted_3","models","selected_model","Heatmap","MemeSelector","ModelSelector","segment_idx","image","setTimeout","heatmap_0","heatmap_1","heatmap_2","Demo","Attention","Remarks","render","createApp","App","mount"],"mappings":"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","file":"js/app.420a6439.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/memes-visualisation-tool/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/self-attention-text-2-text.ee902d63.png\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=3f7b2477&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Image.vue?vue&type=style&index=0&id=febe2850&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/attention-formulation.34916441.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ModelSelector.vue?vue&type=style&index=0&id=a041ced2&scoped=true&lang=css\"","<template>\n  <div>\n    <Attention />\n    <Demo />\n    <Remarks />\n  </div>\n</template>\n\n<script>\nimport Attention from \"./components/Attention.vue\";\nimport Demo from \"./components/Demo.vue\";\nimport Remarks from \"./components/Remarks.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Demo,\n    Attention,\n    Remarks\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n","<template>\n  <div class=\"card border-dark m-4 p-1\">\n    <div class=\"card-header\">\n      Introduction & Motivation (Attention Is All You Need?)\n    </div>\n    <div class=\"card-body\">\n      <span class=\"fs-5\"><b>Introduction</b></span>\n      <div class=\"row align-items-center mt-2 mb-5\">\n        <div class=\"col-sm-6 fs-5\" style=\"text-align: left; height: 100%\">\n          <span>\n            In 2017, Google AI brought a storm to the Natural Language\n            Processing (NLP) research field by introducing a new kind of deep\n            learning architecture - \"Transformers\".\n\n            <br />\n            <br />\n\n            In the highly-cited paper (\"Attention Is All You Need\"), Google AI\n            detailed the <i>mathematical concepts</i> which drive this\n            one-of-a-kind monster and make it so powerful for learning\n            non-linearity relationships.\n\n            <br />\n            <br />\n\n            The proposed <b>transformer</b> architecture uses\n            <i>multiple layers</i> of\n            <i>self-attention mechanisms</i> (\"Multi-Head Attention\"). The\n            self-attention mechanism allows researchers to draw some insights\n            into the models' learnt behavior.\n          </span>\n        </div>\n        <div class=\"col-sm-6 fs-6\">\n          <img\n            style=\"max-width: 100%\"\n            src=\"@/assets/transformer-architecture.png\"\n          />\n          <br />\n          <span\n            ><i\n              >From “Attention is all you need” paper by Vaswani, et al.,\n              2017</i\n            ></span\n          >\n        </div>\n      </div>\n      <div class=\"row align-items-center mb-3\">\n        <div class=\"col-sm-6\">\n          <!-- <img src=\"@/assets/transformer-architecture.png\" /> -->\n          <img\n            style=\"max-width: 100%\"\n            src=\"@/assets/attention-detailed-view.png\"\n          />\n          <br />\n          <span class=\"fs-6\"\n            ><i\n              >From “Attention is all you need” paper by Vaswani, et al., 2017.\n              <br />Scaled dot-product attention formula.</i\n            ></span\n          >\n\n          <br /><br />\n          <img\n            style=\"max-width: 100%\"\n            src=\"@/assets/attention-formulation.png\"\n          />\n          <br />\n          <span\n            ><i\n              >From “Attention is all you need” paper by Vaswani, et al.,\n              2017</i\n            ></span\n          >\n        </div>\n        <div class=\"col-sm-6 fs-5\" style=\"text-align: left; height: 100%\">\n          <span>\n            A self-attention module takes in <i>n</i> inputs and returns\n            <i>n</i> outputs. In essense, it is outputing a latent vector\n            (representation) of the corresponding input features. The\n            self-attention mechanism allows the input to interact with each\n            other (\"self\") and find out who they should pay attention to\n            (\"attention\").\n            <i\n              >This part is obtained from\n              https://towardsdatascience.com/illustrated-self-attention-2d627e33b20a.</i\n            >\n          </span>\n        </div>\n      </div>\n      <hr />\n      <span class=\"fs-5\"><b>Existing Text2Text Visualisation</b></span>\n      <div class=\"row align-items-center mt-2 mb-5\">\n        <div class=\"col-sm-6 fs-5\" style=\"text-align: left; height: 100%\">\n          <span>\n            A popular visualisation of the self-attention mechanism is the use\n            of <b>heatmaps</b>, where the brightness of an area represents the\n            strength of the attention activations for a word pair.\n\n            <br /><br />\n          </span>\n        </div>\n        <div class=\"col-sm-6 fs-6\">\n          <img\n            style=\"max-width: 100%\"\n            src=\"@/assets/self-attention-text-2-text-matrix.jpeg\"\n          />\n        </div>\n      </div>\n      <div class=\"row align-items-center mb-3\">\n        <div class=\"col-sm-6\">\n          <img\n            style=\"max-width: 100%\"\n            src=\"@/assets/self-attention-text-2-text.png\"\n          />\n        </div>\n        <div class=\"col-sm-6 fs-5\" style=\"text-align: left; height: 100%\">\n          <span>\n            Another popular visualisation of the self-attention mechanism can be\n            seen on the figure to the right. The visualisation can be seen as a\n            composition of two subfigures (left and right).\n\n            <br /><br />\n\n            Starting from the right figure, this is a\n            <b>static node and edge graph</b> where a node represents a word. As\n            for the edges, it represents the strength of the attention that each\n            word pays attention to.\n\n            <br /><br />\n\n            Whereas for the left figure, it is an\n            <b>interactive node and edge graph</b> for researchers to explore\n            the attention connections of each node carefully.\n          </span>\n        </div>\n      </div>\n      <hr />\n      <span class=\"fs-5\"><b>Motivation</b></span>\n\n      <div class=\"mt-4 mb-2\">\n        <img width=\"75%\" src=\"@/assets/visualbert-architecture.png\" />\n        <br />\n        <br />\n        <span class=\"fs-6\"\n          >From “VisualBERT: a simple and performant baseline for vision and\n          language” paper by Vaswani, et al., 2017.</span\n        >\n        <br /><br />\n      </div>\n      <div class=\"mb-5\" style=\"text-align: left\">\n        <span class=\"fs-5\">\n          Recently, there is rapid interests in adapting the\n          <b>transformer</b> architecture for <b>visual-linguistic models</b>.\n          However, there is a lack of tools and studies on the multimodal\n          model's behaviors. Specifically, we are interested in learning the\n          impact of these multimodal models on social tasks such as\n          <b>multimodal hate speech detection</b>.\n\n          <ul>\n            <li>\n              Does the multimodal models learn the correct visual-text\n              alignments/groundings? Specifically, we are looking at unique\n              visual-text alignments in hateful memes detection (i.e. slurs\n              alignments/groundings).\n            </li>\n            <li>\n              When comparing across the various multimodal models, can we\n              discern the factors why model A outperforms model B (i.e. learns\n              better visual-text alignments)? If not, could it be due to some\n              inherit bias learnt?\n            </li>\n          </ul>\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Attention\",\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n","import { render } from \"./Attention.vue?vue&type=template&id=be2448d0\"\nimport script from \"./Attention.vue?vue&type=script&lang=js\"\nexport * from \"./Attention.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/opt/mshee/hatefulmemeexplainer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"card border-dark m-4 p-1\">\n    <div class=\"card-header\">Visualisation Demonstrations</div>\n    <div class=\"card-body\">\n      <ModelSelector></ModelSelector>\n      <hr />\n      <div class=\"row mt-2\">\n        <div class=\"col-sm-2\" style=\"border-right: 1px solid #cbcfd4\">\n          <MemeSelector></MemeSelector>\n        </div>\n        <div class=\"col-sm-10\">\n          <b>Cross-Modality Visualisation</b>\n          <Image\n            ref=\"image\"\n            v-bind:img_id=\"img_id\"\n            v-bind:img_filepath=\"img_filepath\"\n            class=\"mt-3 mb-3\"\n          ></Image>\n          <div class=\"row\">\n            <div class=\"col-sm\">\n              <Heatmap\n                v-for=\"idx in [0]\"\n                v-bind:key=\"idx\"\n                :ref=\"'heatmap_' + idx\"\n                v-bind:layer=\"layer\"\n                v-bind:head=\"idx\"\n                v-bind:img_id=\"img_id\"\n              ></Heatmap>\n            </div>\n            <div class=\"col-sm\">\n              <Heatmap\n                v-for=\"idx in [1]\"\n                v-bind:key=\"idx\"\n                :ref=\"'heatmap_' + idx\"\n                v-bind:layer=\"layer\"\n                v-bind:head=\"idx\"\n                v-bind:img_id=\"img_id\"\n              ></Heatmap>\n            </div>\n            <div class=\"col-sm\">\n              <Heatmap\n                v-for=\"idx in [2]\"\n                v-bind:key=\"idx\"\n                :ref=\"'heatmap_' + idx\"\n                v-bind:layer=\"layer\"\n                v-bind:head=\"idx\"\n                v-bind:img_id=\"img_id\"\n              ></Heatmap>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Image from \"./Image.vue\";\nimport Heatmap from \"./Heatmap.vue\";\nimport MemeSelector from \"./MemeSelector.vue\";\nimport ModelSelector from \"./ModelSelector.vue\";\n\nexport default {\n  name: \"Demo\",\n  components: {\n    Image,\n    Heatmap,\n    MemeSelector,\n    ModelSelector,\n  },\n  data: function () {\n    return {\n      layer: 3,\n\n      img_id: 7528,\n      img_filepath: `${process.env.BASE_URL}images/07528.png`,\n    };\n  },\n  methods: {\n    mouseenter: function (indices, segment_idx) {\n      this.$refs.image.highlightBoundingBox(indices, segment_idx);\n    },\n    mouseleave: function () {\n      this.$refs.image.resetBoundingBox();\n    },\n    displayBoundingBox: function (indices) {\n      setTimeout(this.$refs.image.displayBoundingBox(indices), 6000);\n    },\n    showMeme: function (img_id, img_filepath) {\n      console.log(img_id, img_filepath);\n      console.log(this.$refs)\n\n      this.img_id = img_id;\n      this.img_filepath = img_filepath;\n\n      this.$refs.image.update();\n\n      this.$refs.heatmap_0[0].update();\n      this.$refs.heatmap_1[0].update();\n      this.$refs.heatmap_2[0].update();\n\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\n#heatmap-tooltip {\n  opacity: 0;\n  background-color: white;\n  border: solid;\n  border-width: 2px;\n  border-radius: 5px;\n  padding: 5px;\n}\n</style>\n","<template>\n  <div>\n    <div class=\"canvas-wrapper\">\n      <canvas ref=\"imageCanvas\" class=\"canvas-overlay\"></canvas>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Image\",\n  props: {\n    img_id: Number,\n    img_filepath: String,\n  },\n  data: function () {\n    return {\n      sample: 7528,\n      colors: [\n        \"#a71e4a\", // [167,  30,  74],\n        \"#7d3a97\", // [125,  58, 151],\n        \"#483290\", // [ 72,  50, 144],\n        \"#2a92c6\", // [ 29, 146, 198],\n        \"#63b247\", // [ 99, 178,  71],\n        \"#cede35\", // [206, 222,  53],\n        \"#f3ee3c\", // [243, 238,  60],\n        \"#fabb18\", // [250, 187,  24],\n        \"#f35524\", // [243,  85,  36]\n      ],\n    };\n  },\n  computed: {\n    canvas: function () {\n      return this.$refs[\"imageCanvas\"];\n    },\n    ctx: function () {\n      return this.canvas.getContext(\"2d\");\n    },\n    item: function () {\n      return this.infos.filter((item) => item.image_id == this.img_id)[0];\n    },\n  },\n  mounted() {\n    console.log(process.env)\n    fetch(`${process.env.BASE_URL}sample_infos.json`)\n      .then((r) => r.json())\n      .then(\n        (json) => {\n          this.infos = json;\n          this.drawImage(this.img_filepath);\n        },\n        (response) => {\n          console.log(\"Error loading json:\", response);\n        }\n      );\n  },\n  methods: {\n    update() {\n      fetch(`${process.env.BASE_URL}sample_infos.json`)\n        .then((r) => r.json())\n        .then(\n          (json) => {\n            this.infos = json;\n            this.drawImage(this.img_filepath);\n          },\n          (response) => {\n            console.log(\"Error loading json:\", response);\n          }\n        );\n    },\n    drawImage(filepath) {\n      console.log(filepath);\n\n      let bg = new Image();\n      bg.src = filepath;\n      bg.onload = () => {\n        this.canvas.height = bg.height;\n        this.canvas.width = bg.width;\n\n        this.ctx.drawImage(bg, 0, 0);\n        console.log(\"done!!\", filepath);\n        this.initial_state = bg;\n      };\n    },\n    displayBoundingBox(indices) {\n      console.log(indices);\n      for (let idx = 0; idx < indices.length; idx++) {\n        // console.log(this.item)\n        const val = indices[idx];\n        const bbox = this.item[\"bbox\"][val];\n\n        const x = parseInt(bbox[0]);\n        const y = parseInt(bbox[1]);\n\n        const width = parseInt(bbox[2]) - x;\n        const height = parseInt(bbox[3]) - y;\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = this.colors[idx];\n        this.ctx.globalAlpha = 0.15;\n        this.ctx.lineWidth = 3;\n        this.ctx.rect(x, y, width, height);\n        this.ctx.stroke();\n      }\n\n      this.ctx.globalAlpha = 1.0\n    },\n    highlightBoundingBox(indices, highlight_idx) {\n      this.ctx.drawImage(this.initial_state, 0, 0);\n      for (let idx = 0; idx < indices.length; idx++) {\n        const val = indices[idx];\n        const bbox = this.item[\"bbox\"][val];\n        if (val != highlight_idx) {\n          continue;\n        }\n\n        const x = parseInt(bbox[0]);\n        const y = parseInt(bbox[1]);\n\n        const width = parseInt(bbox[2]) - x;\n        const height = parseInt(bbox[3]) - y;\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = this.colors[idx];\n\n        if (val == highlight_idx) {\n          this.ctx.globalAlpha = 1.0;\n          this.ctx.lineWidth = 5;\n        } else {\n          this.ctx.globalAlpha = 0.3;\n          this.ctx.lineWidth = 3;\n        }\n\n        this.ctx.rect(x, y, width, height);\n        this.ctx.stroke();\n      }\n    },\n    resetBoundingBox() {\n      this.ctx.drawImage(this.initial_state, 0, 0);\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.canvas-overlay {\n  position: relative;\n  pointer-events: none;\n}\n</style>\n","import { render } from \"./Image.vue?vue&type=template&id=febe2850&scoped=true\"\nimport script from \"./Image.vue?vue&type=script&lang=js\"\nexport * from \"./Image.vue?vue&type=script&lang=js\"\n\nimport \"./Image.vue?vue&type=style&index=0&id=febe2850&scoped=true&lang=css\"\n\nimport exportComponent from \"/opt/mshee/hatefulmemeexplainer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-febe2850\"]])\n\nexport default __exports__","<template>\n  <div ref=\"heatmap\"></div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\n\nexport default {\n  name: \"Heatmap\",\n  props: {\n    img_id: Number,\n    layer: Number,\n    head: Number,\n  },\n  data: function () {\n    return {\n      margin: { top: 20, right: 10, bottom: 30, left: 60 },\n    };\n  },\n  computed: {\n    width: function () {\n      return 350 - this.margin.left - this.margin.right;\n    },\n    height: function () {\n      return 410 - this.margin.top - this.margin.bottom;\n    },\n    item: function () {\n      return this.attentions.filter((item) => item.image_id == this.img_id)[0];\n    },\n  },\n  mounted() {\n    this.svg = d3\n      .select(this.$refs.heatmap)\n      .append(\"svg\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", this.height)\n      .append(\"g\")\n      .attr(\"transform\", `translate(${this.margin.left}, ${this.margin.top})`);\n\n    this.svg.append(\"text\")\n      .attr(\"x\", this.width / 2 / 1.5)\n      .attr(\"y\", this.height - 30)\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"16px\")\n      .style(\"font-weight\", \"bold\")\n      .text(`Layer ${this.layer + 1} Head ${this.head + 1}`);\n\n    this.fetchHeatmap();\n  },\n  methods: {\n    update() {\n      this.svg.selectAll(\"*\").remove();\n      this.fetchHeatmap();\n    },\n    fetchHeatmap() {\n      fetch(`${process.env.BASE_URL}sample_attentions.json`)\n        .then((r) => r.json())\n        .then(\n          (json) => {\n            this.attentions = json;\n            this.displayHeatmap(this.layer, this.head);\n            this.$parent.displayBoundingBox(this.item[\"x_labels\"]);\n          },\n          (response) => {\n            console.log(\"Error loading json:\", response);\n          }\n        );\n    },\n    formatHeatmap(x_labels, y_labels, scores) {\n      var formatted_records = [];\n      for (let idx = 0; idx < x_labels.length; idx++) {\n        const x = x_labels[idx];\n\n        for (let idy = 0; idy < y_labels.length; idy++) {\n          const y = y_labels[idy];\n          const record = {\n            group: x,\n            variable: y,\n            value: scores[idx][idy],\n          };\n\n          formatted_records.push(record);\n        }\n      }\n\n      return formatted_records;\n    },\n    displayHeatmap(layer, head) {\n      this.data = this.formatHeatmap(\n        this.item[\"x_labels\"],\n        this.item[\"y_labels\"],\n        this.item[\"scores\"][layer][head]\n      );\n\n      // Labels of row and columns -> unique identifier of the column called 'group' and 'variable'\n      const myGroups = Array.from(new Set(this.data.map((d) => d.group)));\n      const myVars = Array.from(new Set(this.data.map((d) => d.variable)));\n\n      // Build X scales and axis:\n      const x = d3\n        .scaleBand()\n        .range([0, this.width - 60])\n        .domain(myGroups)\n        .padding(0.05);\n\n      const xAxis = this.svg\n        .append(\"g\")\n        .style(\"font-size\", 15)\n        .attr(\"transform\", `translate(0, ${this.width})`)\n        .call(d3.axisBottom(x).tickSize(0));\n\n      // Build Y scales and axis:\n      const y = d3\n        .scaleBand()\n        .range([this.width, 0])\n        .domain(myVars)\n        .padding(0.05);\n\n      const yAxis = this.svg\n        .append(\"g\")\n        .style(\"font-size\", 15)\n        .call(d3.axisLeft(y).tickSize(0)); // return xAxis line\n\n      xAxis.select(\".domain\").remove();\n      yAxis.select(\".domain\").remove();\n\n      const myColor = d3.scaleLinear().domain([0, 1]).range([\"white\", \"blue\"]);\n\n      const mouseover = (event) => {\n        const target = event.target;\n\n        d3.select(target).style(\"stroke\", \"black\").style(\"opacity\", 1);\n\n        // Change Axis Color\n        const xLabel = d3.select(target).attr(\"x-label\");\n        xAxis.selectAll(\".tick\").each((d) => {\n          if (xLabel == d) {\n            d3.select(target).selectAll(\"text\").style(\"fill\", \"red\");\n            this.$parent.mouseenter(this.item[\"x_labels\"], d);\n          } else {\n            d3.select(target).selectAll(\"text\").style(\"fill\", \"black\");\n          }\n        });\n\n        const yLabel = d3.select(target).attr(\"y-label\");\n        yAxis.selectAll(\".tick\").each((d) => {\n          // d => value, i => index of the value\n          if (yLabel == d) {\n            d3.select(target).selectAll(\"text\").style(\"fill\", \"red\");\n          } else {\n            d3.select(target).selectAll(\"text\").style(\"fill\", \"black\");\n          }\n        });\n      };\n\n      const mouseleave = (event) => {\n        d3.select(event.target).style(\"stroke\", \"none\").style(\"opacity\", 0.8);\n        d3.selectAll(\"text\").style(\"fill\", \"black\");\n\n        this.$parent.mouseleave();\n      };\n\n      // add the squares\n      this.svg\n        .selectAll()\n        .data(this.data, function (d) {\n          return d.group + \":\" + d.variable;\n        })\n        .join(\"rect\")\n        .attr(\"x\", function (d) {\n          return x(d.group);\n        })\n        .attr(\"y\", function (d) {\n          return y(d.variable);\n        })\n        .attr(\"x-label\", function (d) {\n          return d.group;\n        })\n        .attr(\"y-label\", function (d) {\n          return d.variable;\n        })\n        .attr(\"rx\", 4)\n        .attr(\"ry\", 4)\n        .attr(\"width\", x.bandwidth())\n        .attr(\"height\", y.bandwidth())\n        .style(\"fill\", function (d) {\n          return myColor(d.value);\n        })\n        .style(\"stroke-width\", 4)\n        .style(\"stroke\", \"none\")\n        .style(\"opacity\", 0.8)\n        .on(\"mouseover\", mouseover)\n        .on(\"mouseleave\", mouseleave);\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import { render } from \"./Heatmap.vue?vue&type=template&id=d1435a62&scoped=true\"\nimport script from \"./Heatmap.vue?vue&type=script&lang=js\"\nexport * from \"./Heatmap.vue?vue&type=script&lang=js\"\n\nimport \"./Heatmap.vue?vue&type=style&index=0&id=d1435a62&scoped=true&lang=css\"\n\nimport exportComponent from \"/opt/mshee/hatefulmemeexplainer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d1435a62\"]])\n\nexport default __exports__","<template>\n  <div>\n    <div><b>Meme Selection</b></div>\n\n    <div v-for=\"(sample, idx) in samples\" v-bind:key=\"sample\" class=\"mt-4 mb-4\">\n      <img class=\"thumbnail\" v-bind:src=\"sample_filepaths[idx]\" />\n      <button\n        v-if=\"idx == selected_idx\"\n        type=\"button\"\n        class=\"btn btn-info m-1\"\n      >\n        {{ sample }}\n      </button>\n      <button\n        v-else\n        type=\"button\"\n        class=\"btn btn-light m-1\"\n        v-on:click=\"onSelect(idx)\"\n      >\n        {{ sample }} ({{ similarities[samples[selected_idx]][sample] }})\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MemeSelector\",\n  components: {},\n  data: function () {\n    return {\n      publicPath: process.env.BASE_URL,\n      sample_filepaths: [\n        `${process.env.BASE_URL}images/07528.png`,\n        `${process.env.BASE_URL}images/46518.png`,\n        `${process.env.BASE_URL}images/80597.png`,\n        `${process.env.BASE_URL}images/84762.png`,\n      ],\n      samples: [7528, 46518, 80597, 84762],\n      similarities: {\n        7528: {\n          46518: 0.124,\n          80597: 0.1,\n          84762: 0.127,\n        },\n        46518: {\n          7528: 0.124,\n          80597: 0.07,\n          84762: 0.117,\n        },\n        80597: {\n          46518: 0.07,\n          7528: 0.1,\n          84762: 0.084,\n        },\n        84762: {\n          46518: 0.117,\n          80597: 0.084,\n          7528: 0.127,\n        },\n      },\n      selected_idx: 0,\n    };\n  },\n  computed: {\n    selected_sample: function () {\n      return this.samples[this.selected_idx];\n    },\n    selected_sample_filepath: function () {\n      return this.sample_filepaths[this.selected_idx];\n    },\n  },\n  methods: {\n    onSelect: function (idx) {\n      this.selected_idx = idx;\n      this.$parent.showMeme(\n        this.samples[this.selected_idx],\n        this.sample_filepaths[this.selected_idx]\n      );\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.thumbnail {\n  max-width: 150px;\n  max-height: 150px;\n}\n</style>\n","import { render } from \"./MemeSelector.vue?vue&type=template&id=6de5b727&scoped=true\"\nimport script from \"./MemeSelector.vue?vue&type=script&lang=js\"\nexport * from \"./MemeSelector.vue?vue&type=script&lang=js\"\n\nimport \"./MemeSelector.vue?vue&type=style&index=0&id=6de5b727&scoped=true&lang=css\"\n\nimport exportComponent from \"/opt/mshee/hatefulmemeexplainer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6de5b727\"]])\n\nexport default __exports__","<template>\n  <div class=\"mt-2 mb-2\">\n    <div><b>Model Selector</b></div>\n\n    <div>\n      <button\n        v-for=\"(model, idx) in models\"\n        v-bind:key=\"model\"\n        :class=\"{\n          'btn-light': idx != selected_idx,\n          'btn-info': idx == selected_idx,\n        }\"\n        type=\"button\"\n        class=\"btn m-1 mt-3 mb-3\"\n        @click=\"onSelect(idx)\"\n      >\n        {{ model }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ModelSelector\",\n  components: {},\n  data: function () {\n    return {\n      models: [\"VisualBERT\", \"VilBERT\"],\n      selected_idx: 0,\n    };\n  },\n  computed: {\n    selected_model: function () {\n      return this.models[this.selected_idx];\n    },\n  },\n  methods: {\n    onSelect: function (idx) {\n      this.selected_idx = idx;\n      console.log(idx);\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.thumbnail {\n  max-width: 150px;\n  max-height: 150px;\n}\n</style>\n","import { render } from \"./ModelSelector.vue?vue&type=template&id=a041ced2&scoped=true\"\nimport script from \"./ModelSelector.vue?vue&type=script&lang=js\"\nexport * from \"./ModelSelector.vue?vue&type=script&lang=js\"\n\nimport \"./ModelSelector.vue?vue&type=style&index=0&id=a041ced2&scoped=true&lang=css\"\n\nimport exportComponent from \"/opt/mshee/hatefulmemeexplainer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a041ced2\"]])\n\nexport default __exports__","import { render } from \"./Demo.vue?vue&type=template&id=9ef3f062&scoped=true\"\nimport script from \"./Demo.vue?vue&type=script&lang=js\"\nexport * from \"./Demo.vue?vue&type=script&lang=js\"\n\nimport \"./Demo.vue?vue&type=style&index=0&id=9ef3f062&scoped=true&lang=css\"\n\nimport exportComponent from \"/opt/mshee/hatefulmemeexplainer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9ef3f062\"]])\n\nexport default __exports__","<template>\n  <div class=\"card border-dark m-4 p-1\">\n    <div class=\"card-header\">Work-In-Progress (No time to finish ...)</div>\n    <div class=\"card-body\">\n      <div class=\"mb-5\" style=\"text-align: left\">\n        <span class=\"fs-5\">\n          <ul>\n            <li>\n              Increase the number of models for comparisons (should includes all\n              BERT-based models)\n            </li>\n            <li>\n              Increase the number of similarity measures/metrics for grouping\n              memes together\n            </li>\n          </ul>\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Attention\",\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n","import { render } from \"./Remarks.vue?vue&type=template&id=72e0b186\"\nimport script from \"./Remarks.vue?vue&type=script&lang=js\"\nexport * from \"./Remarks.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/opt/mshee/hatefulmemeexplainer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=3f7b2477\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=3f7b2477&lang=css\"\n\nimport exportComponent from \"/opt/mshee/hatefulmemeexplainer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","module.exports = __webpack_public_path__ + \"img/transformer-architecture.2504552c.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MemeSelector.vue?vue&type=style&index=0&id=6de5b727&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/visualbert-architecture.dd6cd049.png\";","module.exports = __webpack_public_path__ + \"img/attention-detailed-view.90007889.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Heatmap.vue?vue&type=style&index=0&id=d1435a62&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Demo.vue?vue&type=style&index=0&id=9ef3f062&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/self-attention-text-2-text-matrix.5cdaac41.jpeg\";"],"sourceRoot":""}